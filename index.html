<!doctype html>
<html lang="it">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>TO BUY LIST EDO</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" />
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <div id="authContainer" style="display: none">
            <h2>Login</h2>
            <input type="email" id="emailInput" placeholder="Email" />
            <input type="password" id="passwordInput" placeholder="Password" />
            <button onclick="loginUser()">Enter</button>
        </div>
        <div id="sidebarContainer"></div>

        <div id="welcomeMessage" style="display: none; text-align: center; font-size: 24px; font-weight: bold">
            Ciao!!
        </div>

        <div id="mainContainer" style="display: none">
            <button id="logoutButton">Logout</button>

            <!-- üî• Sidebar inclusa dinamicamente -->
            <script>
                fetch("sidebar.html")
    .then(response => response.text())
    .then(data => {
        const sidebarContainer = document.getElementById("sidebarContainer");
        if (!sidebarContainer) {
            console.error("‚ùå Elemento sidebarContainer non trovato!");
            return;
        }
        sidebarContainer.innerHTML = data;
        console.log("‚úÖ Sidebar caricata con successo!");

        // üîÑ Associa il pulsante dopo aver caricato la sidebar
        setTimeout(() => {
            const openSidebarButton = document.getElementById("openSidebar");
            if (openSidebarButton) {
                openSidebarButton.addEventListener("click", () => {
                    toggleSidebar();
                    console.log("‚úÖ Click rilevato e sidebar aperta!");
                });
            } else {
                console.warn("‚ö† Pulsante 'openSidebar' non trovato nella sidebar!");
            }
        }, 500);
    })
    .catch(error => console.error("‚ùå Errore nel caricamento della sidebar:", error));

            </script>

            <!-- üî• Widget anteprima della lista To-Do -->
            <div id="widgetContainer">
                <h3 class="widget-title">List Preview</h3>
                <ul id="taskPreview">
                    <li>Loading..</li>
                </ul>
                <div class="widget-button-container">
                    <button class="widget-button" onclick="navigateTo('todolist.html')">Check the list</button>
                </div>
            </div>

            <!-- üî• Widget anteprima delle ricette -->
            <div id="latestRecipesContainer">
                <h3 class="widget-title">Latest Recipes</h3>
                <div id="latestRecipesList"></div>
                <div class="widget-button-container">
                    <button class="widget-button" onclick="navigateTo('ricettelista.html')">See All Recipes</button>
                </div>
            </div>
        </div>

        <script type="module" defer src="script.js"></script>
    </body>
</html>
